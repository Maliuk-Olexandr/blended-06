{"version":3,"file":"refs-DAAoLujz.js","sources":["../../src/js/products-api.js","../../src/js/constants.js","../../src/js/storage.js","../../src/js/wishlist-utils.js","../../src/js/render-function.js","../../src/js/refs.js"],"sourcesContent":["import axios from 'axios';\n\nconst currentPage = 1;\n\n// Функції для роботи з бекендом\n// Отримання категорій\nexport async function getCategories() {\n  const response = await axios('https://dummyjson.com/products/category-list');\n  return response.data;\n}\n// Отримання товарів для головної сторінки\n// Параметри: currentPage - номер сторінки, limit - кількість товарів на сторінці\nexport async function getHomeProducts() {\n  const url = `https://dummyjson.com/products?limit=12&skip=${\n    (currentPage - 1) * 12\n  }`;\n  const response = await axios(url);\n  return response.data.products;\n}\n\n// Отримання товарів за категорією\n// Параметри: category - назва категорії, currentPage - номер сторінки, limit - кількість товарів на сторінці\nexport async function getProductsByCategory(category) {\n  if (category === 'all') {\n    return getHomeProducts(); // Якщо категорія \"всі\", повертаємо всі товари\n  }\n  // Формуємо URL для отримання товарів за категорією\n  const url = `https://dummyjson.com/products/category/${category}?limit=12&skip=${\n    (currentPage - 1) * 12\n  }`;\n  const response = await axios(url);\n  return response.data.products;\n}\n// Отримання товару за ID\n// Параметри: id - ID товару\nexport async function getProductById(id) {\n  const url = `https://dummyjson.com/products/${id}`;\n  const response = await axios(url);\n  return response.data;\n}\n\n// Отримання товарів за пошуковим запитом\nexport async function getProductsBySearch(query) {\n  const url = `https://dummyjson.com/products/search?q=${query}&limit=12&skip=${\n    (currentPage - 1) * 12\n  }`;\n  const response = await axios(url);\n  return response.data.products;\n}\n","//Константи\n\nexport const STORAGE_KEYS = {\n  SELECTED_CATEGORY: 'selected_category',\n  CURRENT_PAGE: 'current_page',\n  WISHLIST:'wishlist'\n};\n\n\n","\n// Функції для роботи з localStorage\n// Збереження та отримання вибраної категорії та поточної сторінки\nimport { STORAGE_KEYS } from './constants';\n\n\n//========= Category and Page functions ==========\n//зберігає вибрану категорію в localStorage (ключ selected_category)\nexport function saveSelectedCategory(category) {\n  localStorage.setItem(STORAGE_KEYS.SELECTED_CATEGORY, category);\n}\n//отримує вибрану категорію з localStorage (ключ selected_category)\n//якщо категорія не вибрана, повертає 'all'\nexport function getSelectedCategory() {\n  return localStorage.getItem(STORAGE_KEYS.SELECTED_CATEGORY) || 'all';\n}\n//очищує вибрану категорію в localStorage (ключ selected_category)\nexport function resetSelectedCategory() {\n  localStorage.removeItem(STORAGE_KEYS.SELECTED_CATEGORY);\n}\n//зберігає поточну сторінку в localStorage (ключ current_page)\n//якщо сторінка не вказана, зберігає 1\nexport function saveCurrentPage(page) {\n  localStorage.setItem(STORAGE_KEYS.CURRENT_PAGE, page.toString());\n}\n//отримує поточну сторінку з localStorage (ключ current_page)\nexport function getCurrentPage() {\n  return Number(localStorage.getItem(STORAGE_KEYS.CURRENT_PAGE)) || 1;\n}\n//очищує поточну сторінку в localStorage (ключ current_page)\nexport function resetCurrentPage() {\n  localStorage.removeItem(STORAGE_KEYS.CURRENT_PAGE);\n}\n\n\n//========= Wishlist functions ==========\n//отримує масив ID продуктів з localStorage (ключ wishlist)\nexport function getWishlist() {\n  const wishlist = localStorage.getItem(STORAGE_KEYS.WISHLIST);\n  \n  return wishlist ? JSON.parse(wishlist) : [];\n}\n\n//додає ID продукту до масиву і записує в localStorage (ключ wishlist)\nexport function addToWishlist(productId) {\n  const wishlist = getWishlist();\n  if (!wishlist.includes(productId)) {\n    wishlist.push(productId);\n    localStorage.setItem(STORAGE_KEYS.WISHLIST, JSON.stringify(wishlist));\n  }\n}\n\n//очищує масив ID продуктів в localStorage (ключ wishlist)\nexport function clearWishlist() {\n  localStorage.removeItem(STORAGE_KEYS.WISHLIST);\n}\n\n//видаляє ID продукту з масиву і записує в localStorage (ключ wishlist)\nexport function removeFromWishlist(productId) {\n  const wishlist = getWishlist();\n  const updatedWishlist = wishlist.filter(id => id !== productId);\n  localStorage.setItem(STORAGE_KEYS.WISHLIST, JSON.stringify(updatedWishlist));\n}\n\n//перевіряє чи є ID продукту в масиві ID продуктів в localStorage (ключ wishlist)\nexport function isProductInWishlist(productId) {\n  const wishlist = getWishlist();\n  return wishlist.includes(productId);\n}\n\n\n","import {\n  isProductInWishlist,\n  addToWishlist,\n  removeFromWishlist,\n  getWishlist,\n} from './storage.js';\nimport { renderHomeProducts, updateWishlistCount } from './render-function.js';\nimport { getProductById } from './products-api.js';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport refs from './refs.js';\n\n\nexport function setupWishlistButton(productId) {\n  const wishlistBtn = document.querySelector('.modal-product__btn--wishlist');\n  if (!wishlistBtn) return;\n\n  wishlistBtn.textContent = isProductInWishlist(productId)\n    ? 'Remove from Wishlist'\n    : 'Add to Wishlist';\n\n  const newWishlistBtn = wishlistBtn.cloneNode(true);\n  wishlistBtn.parentNode.replaceChild(newWishlistBtn, wishlistBtn);\n\n  newWishlistBtn.addEventListener('click', async () => {\n    if (isProductInWishlist(productId)) {\n      removeFromWishlist(productId);\n      newWishlistBtn.textContent = 'Add to Wishlist';\n      iziToast.success({\n        title: 'Success',\n        message: 'Product removed from Wishlist',\n        position: 'topRight',\n      });\n    } else {\n      addToWishlist(productId);\n      newWishlistBtn.textContent = 'Remove from Wishlist';\n      iziToast.success({\n        title: 'Success',\n        message: 'Product added to Wishlist',\n        position: 'topRight',\n      });\n    }\n\n    updateWishlistCount();\n\n    // Якщо ми зараз на сторінці wishlist — оновлюємо її\n    if (window.location.pathname.includes('wishlist.html')) {\n      await loadWishlistProducts();\n    }\n  });\n}\n\n// Функція для завантаження wishlist товарів\nexport async function loadWishlistProducts() {\n  const wishlist = getWishlist();\n\n  if (wishlist.length === 0) {\n    refs.products.innerHTML =\n      '<p class=\"empty-message\">Your wishlist is empty.</p>';\n    return;\n  }\n\n  try {\n    const productPromises = wishlist.map(id => getProductById(id));\n    const products = await Promise.all(productPromises);\n\n    renderHomeProducts(products);\n  } catch (error) {\n    console.error('Error loading wishlist products:', error);\n    iziToast.error({\n      title: 'Error',\n      message: 'Failed to load wishlist products.',\n      position: 'topRight',\n    });\n  }\n}\n","//Функцію для створення, рендеру або видалення розмітки\nimport refs from './refs';\nimport iziToast from 'izitoast';\nimport {\n  getHomeProducts,\n  getProductsByCategory,\n  getProductById,\n  getProductsBySearch,\n} from './products-api';\nimport {\n  getSelectedCategory,\n  saveSelectedCategory,\n  getWishlist,\n} from './storage';\nimport { setupWishlistButton } from './wishlist-utils';\n\n// ---- Функція для рендеру категорій\nexport function renderCategories(categories) {\n  const selectedCategory = getSelectedCategory();\n  // Якщо категорія не знайдена, встановлюємо \"All\" як вибрану категорію\n  if (!categories.map(i => i.toLowerCase()).includes(selectedCategory)) {\n    localStorage.setItem('selected_category', 'all');\n  }\n  const categoriesList = ['All', 'nobody', ...categories] // Додаємо \"All\" та \"nobody\" до списку категорій\n    .map(category => {\n      // Перевірка, чи є категорія вибраною\n      const isActive =\n        category.toLowerCase() === selectedCategory.toLowerCase()\n          ? // Додаємо клас \"categories__btn--active\" для вибраної категорії\n            'categories__btn--active'\n          : '';\n      // Повертаємо HTML розмітку для кожної категорії\n      return `<li class=\"categories__item\" data-category=\"${category.toLowerCase()}\">\n   <button class=\"categories__btn ${isActive}\" type=\"button\">${category}</button>\n </li>`;\n    })\n    .join('');\n  refs.categories.innerHTML = categoriesList;\n  refs.categories.addEventListener('click', onCategoryClick);\n}\n\n//---- Функція для рендеру товарів на головній сторінці\nexport function renderHomeProducts(products) {\n  refs.products.innerHTML = ''; // Очищення попередніх товарів\n  // Перевірка, чи є товари для рендеру\n  if (!products || products.length === 0) {\n    if (refs.notFoundBlock) {\n      refs.notFoundBlock.classList.add('not-found--visible');\n    }\n    return; // Виходимо з функції, якщо немає товарів\n  }\n  // Якщо товари знайдені, видаляємо блок \"not found\"\n  if (refs.notFoundBlock) {\n    refs.notFoundBlock.classList.remove('not-found--visible');\n  }\n  const productsList = products\n    .map(product => {\n      const { id, title, brand, category, price, description, images } =\n        product;\n      // Перевірка наявності зображення, якщо немає, то використовуємо заміну\n      const imageSrc = images?.[0] || 'https://via.placeholder.com/150';\n      return `<li class=\"products__item\" data-id=\"${id}\">\n    <img class=\"products__image\" src=\"${imageSrc}\" alt=\"${description}\"/>\n    <p class=\"products__title\">${title}</p>\n    <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand:${brand}</span></p>\n    <p class=\"products__category\">Category:${category} </p>\n    <p class=\"products__price\">Price: ${price}</p>\n </li>`;\n    })\n    .join('');\n  refs.products.insertAdjacentHTML('beforeend', productsList);\n}\n\n//----- Функція для обробки кліку на категорії\n// Ця функція викликається при кліку на кнопку категорії\n// Вона отримує назву категорії та викликає відповідну функцію для отримання товарів\nexport async function onCategoryClick(event) {\n  const categoryButton = event.target.closest('.categories__btn');\n  if (!categoryButton) return;\n  const allCategoryButtons =\n    refs.categories.querySelectorAll('.categories__btn');\n  allCategoryButtons.forEach(btn => {\n    btn.classList.remove('categories__btn--active');\n  });\n  categoryButton.classList.add('categories__btn--active');\n  const selectedCategory = categoryButton.textContent.trim().toLowerCase();\n  // Збереження вибраної категорії в localStorage\n  saveSelectedCategory(selectedCategory);\n\n  try {\n    const products =\n      selectedCategory === 'all'\n        ? await getHomeProducts()\n        : await getProductsByCategory(selectedCategory);\n\n    renderHomeProducts(products);\n  } catch (error) {\n    console.error(`Error fetching products for ${selectedCategory}:`, error);\n    iziToast.error({\n      title: 'Error',\n      message: 'Failed to fetch products. Please try again later.',\n      position: 'topRight',\n    });\n  }\n}\n\n//----- Функція для обробки кліку на товар\n// Ця функція викликається при кліку на товар\nexport async function onItemClick(event) {\n  const productItem = event.target.closest('.products__item');\n  if (!productItem) return; // Якщо клік не по товару, виходим\n  const productId = productItem.dataset.id; // Отримуємо ID товару з атрибуту data-id\n  try {\n    const product = await getProductById(productId);\n    renderProductModal(product);\n  } catch (error) {\n    iziToast.error({\n      title: 'Error',\n      message: 'Failed to fetch product details. Please try again later.',\n      position: 'topRight',\n    });\n    console.error(`Error fetching product with ID ${productId}:`, error);\n  }\n\n}\n\n// Функція для рендеру продукту в модальному вікні\nfunction renderProductModal(product) {\n  if (!refs.modalProduct) return;\n  const {\n    id,\n    images,\n    title,\n    description,\n    brand,\n    category,\n    price,\n    shippingInformation,\n    returnPolicy,\n  } = product;\n  refs.modalProduct.dataset.id = id; // Зберігаємо ID продукту в атрибуті data-id\n  refs.modalProduct.innerHTML = `\n    <img class=\"modal-product__img\" src=\"${\n      images?.[0] || 'https://via.placeholder.com/150'\n    }\" alt=\"${title}\" />\n    <div class=\"modal-product__content\">\n      <p class=\"modal-product__title\">${title}</p>\n      <ul class=\"modal-product__tags\">\n        <li>Brand: ${brand}</li>\n        <li>Category: ${category}</li>\n      </ul>\n      <p class=\"modal-product__description\">${description}</p>\n      <p class=\"modal-product__shipping-information\">Shipping: ${\n        shippingInformation || 'N/A'\n      }</p>\n      <p class=\"modal-product__return-policy\">Return Policy: ${\n        returnPolicy || 'N/A'\n      }</p>\n      <p class=\"modal-product__price\">Price: $${price}</p>\n      <button class=\"modal-product__buy-btn\" type=\"button\">Buy</button>\n    </div>`;\n\n  // ========== add to wishlist ===========\n\n  setupWishlistButton(id);\n  refs.modal.classList.add('modal--is-open');\n  closeModal();\n}\n\n// Функція для закриття модального вікна\nfunction closeModal() {\n  refs.modal.addEventListener('click', event => {\n    if (\n      event.target === refs.modal ||\n      event.target.classList.contains('modal-product__buy-btn')\n    ) {\n      resetModal(); // Закриваємо модальне вікно при кліку на фон або кнопку \"Buy\"\n    }\n  });\n  // Додаємо обробник події для закриття модального вікна\n  document.addEventListener('keydown', event => {\n    if (event.key === 'Escape') {\n      resetModal(); // Закриваємо модальне вікно при натисканні клавіші Escape}\n    }\n  });\n  refs.modalCloseBtn.addEventListener('click', resetModal); // Додаємо обробник для кнопки закриття\n}\n\nfunction resetModal() {\n  refs.modal.classList.remove('modal--is-open');\n  refs.modalProduct.innerHTML = ''; // Очищення модального вікна\n  refs.modal.removeEventListener('click', closeModal);\n}\n\nexport async function searchProducts(event) {\n  event.preventDefault(); // Запобігаємо перезавантаженню сторінки\n  const searchQuery = event.target.elements.searchValue.value.trim();\n  // refs.searchFormClearBtn.addEventListener('click', () => {\n  //   refs.searchForm.reset(); // Очищення форми при кліку на кнопку очищення\n  // });\n\n  if (!searchQuery) {\n    try {\n      const products = await getHomeProducts(); // Якщо запит порожній, повертаємося до головних товарів\n      renderHomeProducts(products);\n    } catch (error) {\n      iziToast.error({\n        title: 'Error',\n        message: 'Failed to fetch products. Please try again later.',\n        position: 'topRight',\n      });\n      console.error('Error fetching home products:', error);\n    }\n    refs.searchForm.reset(); // Очищення форми після пошуку\n    refs.notFoundBlock.classList.remove('not-found--visible'); // Прибираємо блок \"not found\"\n    return;\n  }\n\n  try {\n    const products = await getProductsBySearch(searchQuery);\n    if (products.length === 0) {\n      refs.notFoundBlock.classList.add('not-found--visible');\n      refs.products.innerHTML = '';\n    } else {\n      refs.notFoundBlock.classList.remove('not-found--visible');\n      renderHomeProducts(products);\n    }\n  } catch (error) {\n    iziToast.error({\n      title: 'Error',\n      message: 'Failed to fetch products. Please try again later.',\n      position: 'topRight',\n    });\n    console.error('Error fetching products by search:', error);\n  }\n  refs.searchForm.reset(); // Очищення форми після пошуку\n}\n\n\n\n\n\n\n  export function updateWishlistCount() {\n    const wishlist = getWishlist();\n    const countElement = document.querySelector('[data-wishlist-count]');\n    if (countElement) {\n      countElement.textContent = wishlist.length;\n      // Можна додатково приховувати 0, якщо потрібно\n      countElement.style.display =\n        wishlist.length === 0 ? 'none' : 'inline-block';\n    }\n}\n  \n\n","//Обʼєкт з посиланнями на ДОМ елементи\n\nimport { searchProducts } from \"./render-function\";\n\nconst refs = {\n  form: document.querySelector('.search-form'),\n  categories: document.querySelector('.categories'),\n  products: document.querySelector('.products'),\n  notFoundBlock: document.querySelector('.not-found'),\n  modal: document.querySelector('.modal'),\n  modalProduct: document.querySelector('.modal-product'),\n  modalCloseBtn: document.querySelector('.modal__close-btn'),\n  searchForm: document.querySelector('.search-form'),\n  searchFormClearBtn: document.querySelector('.search-form__btn-clear'),\n};\n\nexport default refs;\n\n// refs.form - форма пошуку\n// refs.categories - категорії\n// refs.products - товари\n// refs.notFoundBlock - блок, який показується, якщо товари не знайдено\n\n// refs.modal - модальне вікно для перегляду товару\n// refs.modalProduct - товар у модальному вікні\n// refs.modalCloseBtn - кнопка закриття модального вікна\n\n// refs.searchForm - форма пошуку товарів\n// refs.searchFormClearBtn - кнопка очищення форми пошуку\n"],"names":["currentPage","getCategories","axios","getHomeProducts","url","getProductsByCategory","category","getProductById","id","getProductsBySearch","query","STORAGE_KEYS","saveSelectedCategory","getSelectedCategory","getWishlist","wishlist","addToWishlist","productId","removeFromWishlist","updatedWishlist","isProductInWishlist","setupWishlistButton","wishlistBtn","newWishlistBtn","iziToast","updateWishlistCount","loadWishlistProducts","refs","productPromises","products","renderHomeProducts","error","renderCategories","categories","selectedCategory","i","categoriesList","isActive","onCategoryClick","productsList","product","title","brand","price","description","images","imageSrc","event","categoryButton","btn","onItemClick","productItem","renderProductModal","shippingInformation","returnPolicy","closeModal","resetModal","searchProducts","searchQuery","countElement"],"mappings":"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"}